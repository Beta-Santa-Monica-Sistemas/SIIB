@model IEnumerable<Beta_System.Models.C_envios_leche_cumplimiento_mensual>

@if (Model.Count() > 0)
{
    <table class="table table-striped table-bordered text-center" id="tabla_compromisos_cliente">
        <thead>
            <tr class="bg-beta text-center">
                <th>Año</th>
                <th>Cliente</th>
                <th>Promedio Lts mensual</th>
                <th>Promedio Lts diario</th>
                <th>Promedio full</th>
                <th>Mostrar</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var group in Model.OrderBy(x => x.id_anio_presupuesto).GroupBy(x => x.id_anio_presupuesto))
            {
                foreach (var cliente in group.GroupBy(x => x.id_envio_leche_cliente_ms))
                {
                    <tr>
                        <td>@cliente.FirstOrDefault().C_presupuestos_anios.anio</td>
                        <td class="text-left">@cliente.FirstOrDefault().C_envios_leche_clientes.nombre_comercial</td>
                        <td>@cliente.Sum(x => x.litros_totales)</td>
                        <td>@cliente.Sum(x => x.litros_dia)</td>
                        <td>@cliente.Sum(x => x.full_semana)</td>
                        <td><button class="btn btn_beta_icon" onclick="MostrarCompromisoCliente(@cliente.FirstOrDefault().id_envio_leche_cliente_ms,@cliente.FirstOrDefault().id_anio_presupuesto)"><i class="fa fa-eye"></i></button></td>
                    </tr>
                }
            }
        </tbody>
    </table>
}
else
{
    <div class="col-md-12 text-center">
        <h2 style="color:red">No se encontró información</h2>
    </div>
}