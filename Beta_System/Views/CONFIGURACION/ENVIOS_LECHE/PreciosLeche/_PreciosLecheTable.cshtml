@model IEnumerable<Beta_System.Models.PreciosLecheDestinos>

@if (Model.Count() > 0)
{
    <div class="table-responsive">
        <table class="table table-striped table-bordered" id="datatable_precios_leche">
            <thead>
                <tr class="bg-beta text-center">
                    <th>Cliente</th>
                    <th>Destino</th>
                    <th>Precio leche</th>
                    <th>Usuario registra</th>
                    <th>Ultima modificación</th>
                    <th>Usuario actualiza</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.OrderBy(x => x.Clientes_destinos.C_envios_leche_clientes.razon_social))
                {
                    <tr class="text-center">
                        <td>@item.Clientes_destinos.C_envios_leche_clientes.razon_social</td>
                        <td>@item.Destinos.nombre_destino</td>
                        @if (item.Precios == null)
                        {
                            <td>
                                <input type="number" value="0" class="form-control id_destinos_leche_precios" id="LecheDestinoPrecio_@item.Destinos.id_destino_envio_leche" />
                            </td>
                            <td><strong class="text-danger">NO REGISTRADO</strong></td>
                            <td><strong class="text-danger">N/A</strong></td>
                            <td><strong class="text-danger">N/A</strong></td>
                        }
                        else
                        {
                            <td>
                                <input type="number" value="@item.Precios.precio_leche" class="form-control id_destinos_leche_precios" id="LecheDestinoPrecio_@item.Destinos.id_destino_envio_leche" />
                            </td>
                            <td><strong>@string.Format(item.Precios.fecha_ultima_actualizacion.Value.ToShortDateString(), "dd/MM/yyyy")</strong></td>
                            <td>@item.Precios.C_usuarios_corporativo.C_empleados.nombres @item.Precios.C_usuarios_corporativo.C_empleados.apellido_paterno</td>
                            <td>@item.Precios.C_usuarios_corporativo1.C_empleados.nombres @item.Precios.C_usuarios_corporativo1.C_empleados.apellido_paterno</td>
                        }
                    </tr>
                }
            </tbody>
        </table>
    </div>
    <div class="text-right">
        <button class="btn_beta" onclick="GuardarPreciosLecheDestinos();">Actualizar precios</button>
    </div>
}
else
{
    <div class="text-center">
        <h3 class="text-danger">No se encontraron destinos registrados</h3>
        <a data-toggle="tab" href="#bascula_destinos"><h4 class="btn_beta">Registrar aquí</h4><i class="fa fa-truck fa-2x ml-2"></i></a>
    </div>
}