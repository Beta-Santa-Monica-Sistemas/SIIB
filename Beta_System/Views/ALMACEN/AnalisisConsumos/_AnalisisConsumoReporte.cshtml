@model IEnumerable<Beta_System.Models.REPORTE_ALMACEN_AnalisisConsumos>

@if (Model != null)
{
    <h2 class="text-white text-center bg-beta p-2" style="margin:2px;">@ViewBag.dias_consumo DIAS DE CONSUMO (Ult inv. @ViewBag.Fecha_ultimo_inv)</h2>

    <table class="table table-striped table-bordered small" id="tabla_consumos_articulos">
        <thead>
            <tr class="text-center">
                <th class="bg-green text-white" colspan="11"><h3 class="text-white">CONSUMO</h3></th>
                <th class="bg-danger" colspan="6"><h3 class="text-white">Ultima Entrada Almacén</h3></th>
            </tr>
            <tr class="bg-beta text-center">
                <th>Clave</th>
                <th>Articulo</th>
                <th>Unidad</th>
                <th>Precio</th>
                <th>Salidas vale</th>
                <th>Existencias (@ViewBag.fecha_inicio)</th>
                <th>Entradas</th>
                <th>Salidas</th>
                <th>Existencias (@ViewBag.fecha_fin</th>
                <th>Existencia actual</th>
                <th>Total</th>
                <th>Familia</th>
                <th>Ubicacion</th>

                <th>Fecha</th>
                <th>Cve. proveedor</th>
                <th>Razón social</th>
                <th>Cant.</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr class="text-center">
                    <td>@item.Clave_articulo</td>
                    <td class="text-left">@item.Nombre_articulo</td>
                    <td>@item.Unidad_Medida</td>
                    <td>$@item.Precio.ToString("N2")</td>
                    <td>@item.Consumo.ToString("N2")</td>
                    <td class="bg-green text-white">@item.Inventario_inicio.ToString("N2")</td>
                    <td>@item.Entradas.ToString("N2")</td>
                    <td>@item.Salidas.ToString("N2")</td>
                    <td class="bg-green text-white">@item.Inventario_final.ToString("N2")</td>
                    <td class="bg-green text-white">@item.Inventario_real.ToString("N2")</td>
                    <td>$@item.Importe.ToString("N2")</td>
                    <td>@item.Tipo_Articulo</td>
                    <td>@item.Ubicacion</td>

                    <td>@item.Fecha_compra</td>
                    <td>
                        @if (item.Clave_Proveedor != 0)
                        {
                            <label>@item.Clave_Proveedor</label>
                        }
                    </td>
                    <td>@item.Proveedor</td>
                    <td>@item.Cantidad_Compra.ToString("N2")</td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <h3 class="text-center text-danger">OCURRIÓ UN ERROR EN LOS CÁLCULOS</h3>
}
