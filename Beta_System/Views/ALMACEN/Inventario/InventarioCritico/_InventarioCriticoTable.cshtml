@using System.Data
@model System.Data.DataTable
@{
    if (Model != null)
    {
        string color_row = "";
        string color_text = "";
        <table class="table table-striped table-bordered" id="datatable_inventario_critico">
            <thead>
                <tr class="bg-beta text-center">
                    <th>Clave</th>
                    <th>Articulo</th>
                    <th>Tipo</th>
                    <th>Ult. inv.</th>
                    <th>Existencia</th>
                    <th>Consumo</th>
                    <th>Operación</th>
                </tr>
            </thead>
            <tbody>
                @foreach (DataRow row in Model.Rows)
                {
                    <tr class="text-center">
                        @foreach (DataColumn col in Model.Columns)
                        {
                            string color_csm = row["Color_consumo"].ToString();
                            string color_opr = row["Color_operativo"].ToString();

                            string existencia = Convert.ToDecimal(row["Exist_Sug"]).ToString("N2");

                            if (col.ColumnName == "Clave" || col.ColumnName == "Fecha_inv" || col.ColumnName == "Nombre_articulo" || col.ColumnName == "Tipo" || col.ColumnName == "Inv_inicial" ||
                                    col.ColumnName == "Exist_sug" || col.ColumnName == "Sigla_consumo" || col.ColumnName == "Sigla_operativo")
                            {
                                if (col.ColumnName == "Sigla_consumo")
                                {
                                    <td name="@row[0]" style="background-color: @color_csm; color: black;"><strong>@row[col.ColumnName]</strong></td>
                                }

                                else if (col.ColumnName == "Sigla_operativo")
                                {
                                    <td name="@row[0]" style="background-color: @color_opr; color: black;"><strong>@row[col.ColumnName]</strong></td>
                                }

                                else if (col.ColumnName == "Exist_sug")
                                {
                                    <td name="@row[0]">@existencia</td>
                                }
                                else
                                {
                                    <td class="text-left" name="@row[0]">@row[col.ColumnName]</td>
                                }
                            }

                        }
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <h3 class="text-center text-danger">NO SE ENCONTRÓ INFROMACIÓN</h3>
    }
}