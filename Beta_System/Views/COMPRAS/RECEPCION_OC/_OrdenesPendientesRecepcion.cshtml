@model IEnumerable<Beta_System.Models.C_compras_ordenes_g>

@if (Model != null || Model.Count() > 0)
{
    <table class="table table-striped table-bordered text-center" id="datatable_ordenes_pendientes_recepcion" style="width:100%">
        <thead>
            <tr class="bg-beta text-center">
                <th>No. orden</th>
                <th>Fecha orden</th>
                <th>Centro</th>
                <th>Requisición</th>
                <th>Cliente/Proveedor</th>
                <th>Solicitado</th>
                <th>Recepcionado</th>
                <th>Pendiente</th>
                <th>Registrar recepción</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@item.id_compras_orden_g</td>
                    <td>@Convert.ToDateTime(item.fecha_registro).ToShortDateString()</td>
                    <td>@item.C_centros_g.siglas</td>
                    <td>@item.id_requisicion_articulo_g</td>
                    <td class="text-left">@item.C_compras_proveedores.razon_social</td>

                    <td>@item.C_compras_ordenes_d.Sum(x => x.cantidad_compra)</td>
                    <td>@item.C_compras_ordenes_d.Sum(x => x.cantidad_entregada)</td>
                    <td>
                        @item.C_compras_ordenes_d.Sum(x => x.cantidad_compra - x.cantidad_entregada)
                    </td>

                    <td class="text-center">
                        <button class="btn btn_beta_icon" onclick="ConsultarDetalleOrdenPendienteRecepcion(@item.id_compras_orden_g);"><i class="fa fa-check"></i></button>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <h2 class="text-center" style="color:red">NO SE ENCONTRO NINGUNA ORDEN PENDIENTE</h2>
    <br />
    <label>@ViewBag.ex_msj</label>
}



